# ============================================================================
# IoT Board Firmware Configuration - Environment Variables
# ============================================================================
# This file contains firmware configuration that can be customized per deployment
# Copy to .env and modify as needed

# ============================================================================
# DEVICE IDENTIFICATION
# ============================================================================
DEVICE_NAME=SIM-MESH-NODE
DEVICE_LOCATION=Tehran-DC1
DEVICE_HARDWARE_VERSION=1.0
DEVICE_FIRMWARE_VERSION=1.0.0

# ============================================================================
# MESH NETWORK CONFIGURATION
# ============================================================================
MESH_SSID=SIM_MESH
MESH_PASSWORD=sim_mesh_secure_2024
MESH_PORT=5555
MESH_CHANNEL=1
MESH_MAX_HOPS=6
MESH_HEARTBEAT_INTERVAL_MS=10000
MESH_CONNECTION_TIMEOUT_MS=45000
MESH_RETRY_ATTEMPTS=3

# ============================================================================
# SECURITY CONFIGURATION
# ============================================================================
# AES-256 Encryption Key (64 hex characters = 256 bits)
# Generate with: openssl rand -hex 32
AES_ENCRYPTION_KEY=0001020304050607080910111213141516171819202122232425262728293031

# HMAC Key for Message Integrity (64 hex characters = 256 bits)
HMAC_KEY=2021222324252627282930313233343536373839404142434445464748495051

# Key Rotation Interval (milliseconds)
KEY_ROTATION_INTERVAL_MS=86400000

# Enable Secure Boot
SECURE_BOOT_ENABLED=true

# Enable Flash Encryption
FLASH_ENCRYPTION_ENABLED=true

# ============================================================================
# WIFI CONFIGURATION (For Master Node)
# ============================================================================
WIFI_SSID=YourWiFiSSID
WIFI_PASSWORD=YourWiFiPassword
WIFI_CONNECT_TIMEOUT_MS=30000
WIFI_MAX_RECONNECT_ATTEMPTS=5

# ============================================================================
# SERVER CONNECTION (Master Node Only)
# ============================================================================
SERVER_URL=http://192.168.1.100:8000
SERVER_API_VERSION=v1
SERVER_CONNECTION_TIMEOUT_MS=30000
SERVER_RETRY_INTERVAL_MS=60000
MQTT_BROKER_URL=192.168.1.100
MQTT_BROKER_PORT=1883
MQTT_USERNAME=simuser
MQTT_PASSWORD=CHANGE_ME
MQTT_CLIENT_ID_PREFIX=sim-node-

# ============================================================================
# SIM CARD CONFIGURATION
# ============================================================================
TOTAL_SIM_SLOTS=20
SIM_DETECTION_TIMEOUT_MS=5000
SIM_SWITCH_DELAY_MS=3000
SIM_HEALTH_CHECK_INTERVAL_MS=300000
AUTO_SIM_DETECTION_ENABLED=true

# ============================================================================
# GSM MODULE CONFIGURATION (SIM800C)
# ============================================================================
GSM_BAUD_RATE=115200
GSM_TX_PIN=17
GSM_RX_PIN=16
GSM_RESET_PIN=5
GSM_POWER_PIN=4
GSM_STATUS_PIN=2

# AT Command Settings
AT_COMMAND_TIMEOUT_MS=5000
AT_COMMAND_RETRY_ATTEMPTS=3
AT_RESPONSE_BUFFER_SIZE=512

# Network Registration
NETWORK_REGISTRATION_TIMEOUT_MS=60000
NETWORK_PREFERRED_MODE=auto  # auto, gsm, lte

# ============================================================================
# SMS CONFIGURATION
# ============================================================================
SMS_ENCODING=UCS2  # GSM7, UCS2
SMS_MAX_LENGTH=160
SMS_CONCAT_MAX_PARTS=5
SMS_SEND_TIMEOUT_MS=30000
SMS_DELIVERY_REPORT_ENABLED=true
PERSIAN_SMS_SUPPORT=true

# ============================================================================
# SIGNAL QUALITY THRESHOLDS
# ============================================================================
SIGNAL_EXCELLENT_THRESHOLD=25
SIGNAL_GOOD_THRESHOLD=15
SIGNAL_FAIR_THRESHOLD=10
SIGNAL_POOR_THRESHOLD=5

# ============================================================================
# HEALTH MONITORING
# ============================================================================
HEALTH_CHECK_INTERVAL_MS=60000
HEARTBEAT_TIMEOUT_MS=15000

# Temperature Thresholds (Celsius)
TEMP_WARNING_THRESHOLD=60
TEMP_CRITICAL_THRESHOLD=75
TEMP_SHUTDOWN_THRESHOLD=85

# Memory Thresholds (bytes)
HEAP_WARNING_THRESHOLD=100000
HEAP_CRITICAL_THRESHOLD=50000

# Voltage Thresholds (Volts)
VOLTAGE_MIN_THRESHOLD=4.5
VOLTAGE_MAX_THRESHOLD=5.5

# ============================================================================
# LOGGING CONFIGURATION
# ============================================================================
LOG_LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_TO_SERIAL=true
LOG_TO_FLASH=true
LOG_BUFFER_SIZE=100
LOG_ROTATION_SIZE=10240

# Loki Integration (Master Node)
LOKI_ENABLED=false
LOKI_URL=http://192.168.1.100:3100/loki/api/v1/push
LOKI_BATCH_SIZE=10
LOKI_FLUSH_INTERVAL_MS=30000

# ============================================================================
# POWER MANAGEMENT
# ============================================================================
POWER_SAVE_MODE_ENABLED=false
SLEEP_MODE_TIMEOUT_MS=300000
DEEP_SLEEP_ENABLED=false
BATTERY_MONITORING_ENABLED=true
BATTERY_CRITICAL_LEVEL=10

# ============================================================================
# OTA UPDATE CONFIGURATION
# ============================================================================
OTA_ENABLED=true
OTA_SERVER_URL=http://192.168.1.100:8000/api/v1/ota
OTA_CHECK_INTERVAL_MS=3600000
OTA_AUTO_UPDATE=false
OTA_ROLLBACK_ENABLED=true

# ============================================================================
# HARDWARE PIN CONFIGURATION
# ============================================================================
# Multiplexer Control Pins (TS3A5017)
MUX_SELECT_PINS=2,4,5,12,13,14,15,18,19,21,22,23,25,26,27,32,33
MUX_DETECT_PINS=34,35,36,39

# Status LEDs
LED_POWER_PIN=25
LED_NETWORK_PIN=26
LED_STATUS_PIN=27

# I2C Pins (Power Monitoring)
I2C_SDA_PIN=21
I2C_SCL_PIN=22

# ============================================================================
# PERFORMANCE TUNING
# ============================================================================
CPU_FREQUENCY_MHZ=240  # 80, 160, 240
WATCHDOG_TIMEOUT_MS=30000
TASK_STACK_SIZE=8192
MESH_TASK_PRIORITY=5
GSM_TASK_PRIORITY=4
SIM_TASK_PRIORITY=3

# ============================================================================
# DEVELOPMENT & DEBUG
# ============================================================================
DEBUG_MODE=false
SERIAL_DEBUG_ENABLED=true
ENABLE_MOCK_GSM=false
ENABLE_MOCK_SIM=false
TEST_MODE=false
VERBOSE_LOGGING=false

# ============================================================================
# ADVANCED FEATURES
# ============================================================================
ENABLE_PERSIAN_SMS=true
ENABLE_ENCRYPTION=true
ENABLE_COMPRESSION=false
ENABLE_MESH_ROUTING=true
ENABLE_LOAD_BALANCING=true
ENABLE_COST_OPTIMIZATION=true
